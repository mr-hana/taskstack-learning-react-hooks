(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{189:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(18),u=t.n(c),o=(t(80),t(3)),i=t(2),l={borderColor:"#666"},f=t(9),d=t(4),v=t.n(d),s=t(69),m=t.n(s);function b(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=(n-e+t)/t;return Array.from({length:r},function(n,r){return e+t*r})}function h(e,n){return v.a.format(e,n,{locale:m.a})}function p(e,n){return b(0,v.a.differenceInCalendarDays(n,e)).map(function(n){return v.a.addDays(e,n)})}var E=function(e,n){var t=function(e,n){var t=[],r=null,a=null,c=function(e){return{date:e,content:"",isShow:!1}},u=function e(){null===r&&(r=-1),a=t[++r],v.a.isWeekend(a.date)?e():""===a.content||e()};return{init:function(){t=[],p(e,n).forEach(function(e){t.push(c(e));var n=v.a.addHours(e,12);t.push(c(n))}),r=null},add:function(e,n){b(0,n-.5,.5).forEach(function(n){u(),a.content=e,0===n&&(a.isShow=!0)})},forEach:function(e){for(var n=0;n<t.length;n++)e(t[n],n)}}}(e,n);return{generate:function(e){t.init(),e.forEach(function(e){t.add(e.content,e.duration)})},getSchedule:function(){var e=[];return t.forEach(function(n){e.push(Object.assign({},n))}),e}}},O=a.a.createContext([]),j=O.Provider,g=new Date,x={beginDate:v.a.startOfMonth(g),endDate:v.a.endOfMonth(v.a.addMonths(g,2))},w=a.a.createContext(x),y=w.Provider,k=a.a.createContext([]),C=k.Provider,D=function(e){var n=e.children,t=Object(r.useState)([]),c=Object(f.a)(t,2),u=c[0],o=c[1],i=Object(r.useState)(x),l=Object(f.a)(i,2),d=l[0],v=l[1],s=Object(r.useState)([]),m=Object(f.a)(s,2),b=m[0],h=m[1];return Object(r.useEffect)(function(){var e=E(d.beginDate,d.endDate);e.generate(u),h(e.getSchedule())},[d,u]),a.a.createElement(C,{value:{schedule:b}},a.a.createElement(y,{value:{term:d,setTerm:v}},a.a.createElement(j,{value:{tasks:u,setTasks:o}},n)))},M=t(8);function T(){var e=Object(o.a)(["\n  font-size: 14px;\n  height: 26px;\n  width: 100%;\n"]);return T=function(){return e},e}var S=i.c.input(T()),Y=function(e){return a.a.createElement(S,e)};function H(){var e=Object(o.a)(["\n  flex: 1 1 auto;\n"]);return H=function(){return e},e}function P(){var e=Object(o.a)(["\n  flex: 0 0 70px;\n  display: block;\n"]);return P=function(){return e},e}function W(){var e=Object(o.a)(["\n  width: 100%;\n  margin: 0 auto;\n  div {\n    display: flex;\n  }\n"]);return W=function(){return e},e}var z=i.c.div(W()),F=i.c.span(P()),I=i.c.div(H()),B=function(){var e=Object(r.useContext)(w),n=e.term,t=e.setTerm,c=function(e){return function(n){var r=new Date(n.target.value);t(function(n){var t=Object(M.a)({},n);return t[e]=r,t})}};return a.a.createElement(z,null,a.a.createElement("div",null,a.a.createElement(F,null,"\u958b\u59cb\u65e5\uff1a"),a.a.createElement(I,null,a.a.createElement(Y,{type:"date",defaultValue:h(n.beginDate,"YYYY-MM-DD"),onChange:c("beginDate")}))),a.a.createElement("div",null,a.a.createElement(F,null,"\u7d42\u4e86\u65e5\uff1a"),a.a.createElement(I,null,a.a.createElement(Y,{type:"date",defaultValue:h(n.endDate,"YYYY-MM-DD"),onChange:c("endDate")}))))},J=t(72),V={content:"",duration:.5},A=a.a.createContext(V),$=function(e){var n=Object(r.useContext)(A),t=n.currentTask,c=n.setCurrentTask;return a.a.createElement(Y,{type:"text",value:t.content,onChange:function(e){var n=e.target.value;c(function(e){return Object(M.a)({},e,{content:n})})}})};function q(){var e=Object(o.a)(["\n  padding: 8px;\n  height: 32px;\n  font-size: 14px;\n"]);return q=function(){return e},e}var G=i.c.select(q()),K=function(e){return a.a.createElement(G,e)},L=function(e){var n=Object(r.useContext)(A),t=n.currentTask,c=n.setCurrentTask;return a.a.createElement(K,{value:t.duration,onChange:function(e){var n=e.target.value;c(function(e){return Object(M.a)({},e,{duration:n})})}},b(.5,5,.5).map(function(e){return a.a.createElement("option",{key:e,value:e.toFixed(1)},e.toFixed(1))}))};function N(){var e=Object(o.a)(["\n  padding: 3px 8px;\n  width: 100%;\n"]);return N=function(){return e},e}function Q(){var e=Object(o.a)(["\n  flex: 1 1 auto;\n  margin: 0 auto;\n"]);return Q=function(){return e},e}function R(){var e=Object(o.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 20px 0;\n"]);return R=function(){return e},e}function U(){var e=Object(o.a)(["\n  width: 100%;\n  margin: 0 auto;\n"]);return U=function(){return e},e}var X=i.c.div(U()),Z=i.c.div(R()),_=i.c.div(Q()),ee=i.c.button(N()),ne=function(){var e=Object(r.useState)(V),n=Object(f.a)(e,2),t=n[0],c=n[1],u=Object(r.useContext)(O).setTasks;return a.a.createElement(X,null,a.a.createElement(A.Provider,{value:{currentTask:t,setCurrentTask:c}},a.a.createElement(Z,null,a.a.createElement(_,null,a.a.createElement($,{context:A})),a.a.createElement(_,null,a.a.createElement(L,{context:A})))),a.a.createElement("div",null,a.a.createElement(ee,{onClick:function(){return u(function(e){return[].concat(Object(J.a)(e),[t])}),void c(V)}},"\u767b\u9332")))},te=function(){var e=Object(r.useContext)(O).tasks.map(function(e,n){return a.a.createElement("div",{key:n},e.content," : ",e.duration)});return a.a.createElement("div",null,a.a.createElement("div",null,e))};function re(){var e=Object(o.a)(["\n  border-width: 0 0 0 1px;\n  min-width: 130px;\n"]);return re=function(){return e},e}function ae(){var e=Object(o.a)(["\n  border-width: 0;\n  width: 50px;\n  text-align: right;\n"]);return ae=function(){return e},e}function ce(){var e=Object(o.a)(["\n  padding: 2px 5px;\n"]);return ce=function(){return e},e}function ue(){var e=Object(o.a)(["background-color: white;"]);return ue=function(){return e},e}function oe(){var e=Object(o.a)(["background-color: #eee;"]);return oe=function(){return e},e}function ie(){var e=Object(o.a)(["\n  display: flex;\n  border-width: 1px 0 0 0;\n\n  ","\n"]);return ie=function(){return e},e}function le(){var e=Object(o.a)(["\n  font-size: 24px;\n  text-align: center;\n"]);return le=function(){return e},e}function fe(){var e=Object(o.a)(["\n"]);return fe=function(){return e},e}function de(){var e=Object(o.a)(["\n  border-style: solid;\n  border-width: 1px;\n  border-color: ",";\n"]);return de=function(){return e},e}var ve=i.c.div(de(),function(e){return e.theme.borderColor}),se=Object(i.c)(ve)(fe()),me=i.c.div(le()),be=Object(i.c)(ve)(ie(),function(e){return e.holiday?Object(i.b)(oe()):Object(i.b)(ue())}),he=Object(i.c)(ve)(ce()),pe=Object(i.c)(he)(ae()),Ee=Object(i.c)(he)(re()),Oe=function(e){var n=function(e,n){var t=new Date(e,n-1,1);return p(t,v.a.endOfMonth(t))}(e.year,e.month),t=Object(r.useContext)(k).schedule;console.log(t);var c=e.month-1,u=t.filter(function(e){return v.a.getMonth(e.date)===c}),o=[];return n.forEach(function(e){var n=u.filter(function(n){return v.a.isSameDay(e,n.date)}),t={date:e,am:"",pm:"",isHoliday:v.a.isWeekend(e)};n.forEach(function(e){if(e.isShow){var n=v.a.getHours(e.date)<12?"am":"pm";t[n]?t[n]+=", ".concat(e.content):t[n]=e.content}}),o.push(t)}),a.a.createElement(se,null,a.a.createElement(me,null,e.month,"\u6708"),o.map(function(e){return a.a.createElement(be,{key:e.date,holiday:e.isHoliday},a.a.createElement(pe,null,e.date.getDate(),"(",h(e.date,"dd"),")"),a.a.createElement(Ee,null,e.am),a.a.createElement(Ee,null,e.pm))}))};function je(){var e=Object(o.a)(["\n  display: flex;\n  align-items: baseline;\n  width: 100%;\n"]);return je=function(){return e},e}var ge=i.c.div(je()),xe=function(){var e=Object(r.useContext)(w).term,n=v.a.differenceInCalendarMonths(e.endDate,e.beginDate),t=v.a.startOfMonth(e.beginDate),c=b(0,n).map(function(e){var n=v.a.addMonths(t,e);return a.a.createElement(Oe,{key:n.getTime(),year:n.getFullYear(),month:n.getMonth()+1})});return a.a.createElement(ge,null,c)};function we(){var e=Object(o.a)(["\n  margin: 0 10px;\n  overflow-x: auto;\n"]);return we=function(){return e},e}function ye(){var e=Object(o.a)(["\n  flex: 0 0 240px;\n"]);return ye=function(){return e},e}function ke(){var e=Object(o.a)(["\n  display: flex;\n  padding: 10px;\n"]);return ke=function(){return e},e}var Ce=i.c.div(ke()),De=i.c.div(ye()),Me=i.c.div(we()),Te=function(){return a.a.createElement(i.a,{theme:l},a.a.createElement(D,null,a.a.createElement(Ce,null,a.a.createElement(De,null,a.a.createElement(B,null),a.a.createElement(ne,null),a.a.createElement(te,null)),a.a.createElement(Me,null,a.a.createElement(xe,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(a.a.createElement(Te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},74:function(e,n,t){e.exports=t(189)},80:function(e,n,t){}},[[74,1,2]]]);
//# sourceMappingURL=main.c7812cdf.chunk.js.map